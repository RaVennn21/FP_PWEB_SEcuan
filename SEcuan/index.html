<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="light dark">
    <title>SEcuan</title>
    <link rel="icon" href="data:,">
    <!-- TailwindCSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React and ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <!-- Babel for JSX compilation -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
      html {
        scroll-behavior: smooth;
      }
      
      /* Special Button Styling - Genshin Impact style */
      .primogem-button {
        position: relative;
        background: linear-gradient(135deg, #FF006E 0%, #FF1493 100%);
        color: white;
        font-weight: 700;
        padding: 14px 40px;
        border: none;
        border-radius: 50px;
        font-size: 18px;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 0 20px rgba(255, 0, 110, 0.4), 
                    inset 0 0 20px rgba(255, 255, 255, 0.2);
        text-transform: uppercase;
        letter-spacing: 1px;
      }
      
      .primogem-button::before {
        content: '';
        position: absolute;
        inset: -3px;
        border-radius: 50px;
        padding: 3px;
        background: linear-gradient(135deg, #FFB6D9, #FF006E, #FFB6D9);
        -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
        -webkit-mask-composite: xor;
        mask-composite: exclude;
        opacity: 0.8;
      }
      
      .primogem-button:hover {
        transform: scale(1.05);
        box-shadow: 0 0 30px rgba(255, 0, 110, 0.6), 
                    inset 0 0 30px rgba(255, 255, 255, 0.3);
      }
      
      .primogem-button:active {
        transform: scale(0.98);
      }
      
      /* Back button styling */
      .back-button {
        transition: all 0.3s ease;
      }
      
      .back-button:hover {
        transform: translateX(-5px);
      }
    </style>
  </head>
  <body class="bg-gray-50 min-h-screen">
    <div id="root"></div>
    <script type="text/babel">
      const NAV_ITEMS = [
        { label: "Home", id: "home" },
        { label: "News", id: "news" },
        { label: "Account", id: "account" }
      ];
      const GAME_DATA = [
        {
          id: 1,
          name: "Genshin Impact",
          image: "/src/Genshin.png",
          badge: "POPULAR",
          badgeColor: "bg-red-600",
          backgroundImage: "/src/BG_Genshin.png",
          characterImage: "/src/Character_Genshin.png",
          characterName: "Durin",
          characterRarity: 5,
          characterDescription: "A dragon born from M's pen, who came to alight in the human world. His 'story' continues to unfold.",
          description: "Primogems are the main premium currency in Genshin Impact",
          packages: [
            { id: 1, amount: "60", bonus: "", price: "Rp. 16.000" },
            { id: 2, amount: "300 + 30", bonus: "Bonus", price: "Rp. 73.000" },
            { id: 3, amount: "980 + 110", bonus: "Bonus", price: "Rp. 239.000" },
            { id: 4, amount: "1980 + 260", bonus: "Bonus", price: "Rp. 465.000" },
            { id: 5, amount: "3280 + 600", bonus: "Bonus", price: "Rp. 770.000" },
            { id: 6, amount: "6680 + 1600", bonus: "Bonus", price: "Rp. 1.350.000" },
            { id: 7, amount: "", special: "Welkin Moon", price: "Rp. 65.000" }
          ],
          servers: ["Asia", "America", "Europe"]
        },
        {
          id: 2,
          name: "Honkai Star Rail",
          image: "/src/HSR.png",
          badge: "NEW",
          badgeColor: "bg-blue-600",
          backgroundImage: "/src/BG_HSR.png",
          characterImage: "/src/Character_Honkai.png",
          characterName: "Stellar Jade",
          characterRarity: 5,
          characterDescription: "Premium currency for interstellar adventures",
          description: "Stellar Jade is the premium currency used to purchase Warps and exclusive items in Honkai Star Rail",
          packages: [
            { id: 1, amount: "50", bonus: "", price: "Rp. 12.000" },
            { id: 2, amount: "300 + 30", bonus: "Bonus", price: "Rp. 73.000" }
          ],
          servers: ["Global", "Asia"]
        },
        {
          id: 3,
          name: "Zenless Zone Zero",
          image: "/src/ZZZ.png",
          badge: "TRENDING",
          badgeColor: "bg-orange-500",
          backgroundImage: "/src/BG_ZZZ.png",
          characterImage: "/src/Character_Zenless.png",
          characterName: "Ellen Joe",
          characterRarity: 5,
          characterDescription: "An elite agent ready for any challenge",
          description: "Premium currency used for recruiting agents and acquiring exclusive gear in Zenless Zone Zero",
          packages: [
            { id: 1, amount: "80", bonus: "", price: "Rp. 20.000" },
            { id: 2, amount: "400 + 50", bonus: "Bonus", price: "Rp. 100.000" }
          ],
          servers: ["Global"]
        }
      ];
      const GAMES = [
        { id: 1, 
          name: "Genshin Impact", 
          image: "/src/Genshin.png",
          backgroundImage: "/src/BG_Genshin.png",
          description: "Primogems are the main premium currency in Genshin Impact, used to purchase 'Fates' for wishing on character and weapon banners, replenish stamina (Original Resin), and occasionally buy other items and upgrades in the game" ,
          characterName: "Durin",
          characterImage:"/src/DurinPicture.png",
          characterRarity: 5,
          characterDescription: "A dragon born from M's pen, who came to alight in the human world. His 'story' continues to unfold.",
          packages: [
            { id: 1, amount: "60", bonus: "", price: "Rp. 16.000" },
            { id: 2, amount: "300 + 30", bonus: "Bonus", price: "Rp. 73.000" },
            { id: 3, amount: "980 + 110", bonus: "Bonus", price: "Rp. 239.000" },
            { id: 4, amount: "1980 + 260", bonus: "Bonus", price: "Rp. 465.000" },
            { id: 5, amount: "3280 + 600", bonus: "Bonus", price: "Rp. 770.000" },
            { id: 6, amount: "6680 + 1600", bonus: "Bonus", price: "Rp. 1.350.000" },
            { id: 7, amount: "", special: "Welkin Moon", price: "Rp. 65.000" }
          ],
          servers: ["Asia", "America", "Europe"]},
        { id: 2, name: "Honkai Star Rail",
          image: "/src/HSR.png",
          backgroundImage: "/src/BG_HSR.png",
          description: "Primogems are the main premium currency in Genshin Impact, used to purchase 'Fates' for wishing on character and weapon banners, replenish stamina (Original Resin), and occasionally buy other items and upgrades in the game",
          characterName: "Durin",
          characterImage:"/src/DurinPicture.png",
          characterRarity: 5,
          characterDescription: "A dragon born from M's pen, who came to alight in the human world. His 'story' continues to unfold.",
          packages: [
            { id: 1, amount: "60", bonus: "", price: "Rp. 16.000" },
            { id: 2, amount: "300 + 30", bonus: "Bonus", price: "Rp. 73.000" },
            { id: 3, amount: "980 + 110", bonus: "Bonus", price: "Rp. 239.000" },
            { id: 4, amount: "1980 + 260", bonus: "Bonus", price: "Rp. 465.000" },
            { id: 5, amount: "3280 + 600", bonus: "Bonus", price: "Rp. 770.000" },
            { id: 6, amount: "6680 + 1600", bonus: "Bonus", price: "Rp. 1.350.000" },
            { id: 7, amount: "", special: "Welkin Moon", price: "Rp. 65.000" }
          ],
          servers: ["Asia", "America", "Europe"]},
          
        { id: 3, name: "Zenless Zone Zero", 
          image: "/src/ZZZ.png",
          backgroundImage: "/src/BG_ZZZ.png",
          description: "Primogems are the main premium currency in Genshin Impact, used to purchase 'Fates' for wishing on character and weapon banners, replenish stamina (Original Resin), and occasionally buy other items and upgrades in the game",
          characterName: "Durin",
          characterImage:"/src/DurinPicture.png",
          characterRarity: 5,
          characterDescription: "A dragon born from M's pen, who came to alight in the human world. His 'story' continues to unfold.",
          packages: [
            { id: 1, amount: "60", bonus: "", price: "Rp. 16.000" },
            { id: 2, amount: "300 + 30", bonus: "Bonus", price: "Rp. 73.000" },
            { id: 3, amount: "980 + 110", bonus: "Bonus", price: "Rp. 239.000" },
            { id: 4, amount: "1980 + 260", bonus: "Bonus", price: "Rp. 465.000" },
            { id: 5, amount: "3280 + 600", bonus: "Bonus", price: "Rp. 770.000" },
            { id: 6, amount: "6680 + 1600", bonus: "Bonus", price: "Rp. 1.350.000" },
            { id: 7, amount: "", special: "Welkin Moon", price: "Rp. 65.000" }
          ],
          servers: ["Asia", "America", "Europe"]}
        
        ];
      // Custom gradient backgrounds for the cards

      // Hamburger Icon for menu
      function Hamburger({ open, onClick }) {
        return (
          <button
            className="p-2 md:hidden text-white focus:outline-none"
            aria-label="Open menu"
            onClick={onClick}
            type="button"
            tabIndex={0}
          >
            <svg
              className="h-7 w-7"
              fill="none"
              stroke="currentColor"
              strokeWidth={2}
              viewBox="0 0 24 24"
            >
              {open ? (
                <>
                  <line x1="6" y1="6" x2="18" y2="18" />
                  <line x1="6" y1="18" x2="18" y2="6" />
                </>
                ) : (
                <>
                  <line x1="4" y1="8" x2="20" y2="8" />
                  <line x1="4" y1="16" x2="20" y2="16" />
                  <line x1="4" y1="12" x2="20" y2="12" />
                </>
              )}
            </svg>
          </button>
        );
      }

      // Navigation bar
      function Navbar({ activeNav, setActiveNav, user, onLogout }) {
        const [open, setOpen] = React.useState(false);
        const [dropdownOpen, setDropdownOpen] = React.useState(false);
        return (
          <nav className="fixed top-4 left-0 w-full z-50 px-4">
            <div className="bg-[#A85580] rounded-full shadow-lg max-w-4xl mx-auto">
              <div className="flex items-center justify-between px-6 h-14">
                <div className="flex items-center gap-3">
                  <Hamburger open={open} onClick={() => setOpen(o => !o)} />
                </div>
                {/* Desktop Nav */}
                <div className="hidden md:flex gap-8 items-center justify-center flex-1">
                  {NAV_ITEMS.filter(item => item.id !== 'account').map((item) => (
                    <button
                      key={item.id}
                      className={`text-white text-base font-medium px-4 py-2 transition-colors rounded-full focus:outline-none hover:bg-white hover:bg-opacity-20 ${activeNav===item.id ? 'bg-white bg-opacity-20' : ''}`}
                      onClick={() => setActiveNav(item.id)}
                    >
                      {item.label}
                    </button>
                  ))}
                  
                  {/* Account Button / User Dropdown */}
                  {user ? (
                    <div className="relative">
                      <button
                        onClick={() => setDropdownOpen(!dropdownOpen)}
                        className="text-white text-base font-medium px-4 py-2 transition-colors rounded-full focus:outline-none hover:bg-white hover:bg-opacity-20 flex items-center gap-2"
                      >
                        <svg className="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                          <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                        </svg>
                        {user.username}
                        <svg className={`w-4 h-4 transition-transform ${dropdownOpen ? 'rotate-180' : ''}`} fill="none" stroke="currentColor" strokeWidth={2} viewBox="0 0 24 24">
                          <path strokeLinecap="round" strokeLinejoin="round" d="M19 9l-7 7-7-7" />
                        </svg>
                      </button>
                      
                      {dropdownOpen && (
                        <div className="absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-xl py-2 z-50">
                          <button
                            onClick={() => {
                              setActiveNav('account');
                              setDropdownOpen(false);
                            }}
                            className="w-full text-left px-4 py-2 text-gray-800 hover:bg-purple-50 transition-colors flex items-center gap-2"
                          >
                            <svg className="w-5 h-5" fill="none" stroke="currentColor" strokeWidth={2} viewBox="0 0 24 24">
                              <path strokeLinecap="round" strokeLinejoin="round" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                            </svg>
                            My Profile
                          </button>
                          <hr className="my-1 border-gray-200" />
                          <button
                            onClick={() => {
                              onLogout();
                              setDropdownOpen(false);
                            }}
                            className="w-full text-left px-4 py-2 text-red-600 hover:bg-red-50 transition-colors flex items-center gap-2"
                          >
                            <svg className="w-5 h-5" fill="none" stroke="currentColor" strokeWidth={2} viewBox="0 0 24 24">
                              <path strokeLinecap="round" strokeLinejoin="round" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
                            </svg>
                            Logout
                          </button>
                        </div>
                      )}
                    </div>
                  ) : (
                    <button
                      className={`text-white text-base font-medium px-4 py-2 transition-colors rounded-full focus:outline-none hover:bg-white hover:bg-opacity-20 ${activeNav==='account' ? 'bg-white bg-opacity-20' : ''}`}
                      onClick={() => setActiveNav('account')}
                    >
                      Account
                    </button>
                  )}
                </div>
              </div>
              {/* Mobile Menu */}
              <div
                className={`md:hidden transition-all duration-200 ${open ? 'max-h-[200px] opacity-100' : 'max-h-0 overflow-hidden opacity-0'}`}
              >
                <div className="flex flex-col px-6 pb-4 gap-2 border-t border-white/20 pt-2">
                  {NAV_ITEMS.filter(item => item.id !== 'account').map((item) => (
                    <button
                      key={item.id}
                      className={`text-white text-base font-medium text-center px-4 py-2 rounded-full transition-colors w-full hover:bg-white hover:bg-opacity-20 ${activeNav===item.id ? 'bg-white bg-opacity-20' : ''}`}
                      onClick={() => {
                        setActiveNav(item.id);
                        setOpen(false)
                      }}
                    >
                      {item.label}
                    </button>
                  ))}
                  
                  {/* Mobile Account Button */}
                  {user ? (
                    <>
                      <button
                        className="text-white text-base font-medium text-center px-4 py-2 rounded-full transition-colors w-full hover:bg-white hover:bg-opacity-20 flex items-center justify-center gap-2"
                        onClick={() => {
                          setActiveNav('account');
                          setOpen(false);
                        }}
                      >
                        <svg className="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                          <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                        </svg>
                        {user.username}
                      </button>
                      <button
                        className="text-white text-base font-medium text-center px-4 py-2 rounded-full transition-colors w-full hover:bg-red-500 bg-red-600"
                        onClick={() => {
                          onLogout();
                          setOpen(false);
                        }}
                      >
                        Logout
                      </button>
                    </>
                  ) : (
                    <button
                      className={`text-white text-base font-medium text-center px-4 py-2 rounded-full transition-colors w-full hover:bg-white hover:bg-opacity-20 ${activeNav==='account' ? 'bg-white bg-opacity-20' : ''}`}
                      onClick={() => {
                        setActiveNav('account');
                        setOpen(false);
                      }}
                    >
                      Account
                    </button>
                  )}
                </div>
              </div>
            </div>
          </nav>
        );
      }

      function GameCard({ game, onClick }) {
        return (
          <div
            className="bg-white rounded-2xl shadow-md hover:shadow-xl transition-all duration-300 cursor-pointer group relative overflow-hidden w-full mx-auto transform hover:scale-105"
            tabIndex={0}
            onClick={() => onClick(game)}
            onKeyPress={(e) => e.key === 'Enter' && onClick(game)}
          >
            {/* Game Image Container */}
            <div className="relative aspect-[3/4] overflow-hidden rounded-t-2xl">
              {/* Game Image */}
              <img
                src={game.image}
                alt={game.name}
                className="w-full h-full object-cover"
              />
            </div>
            
            {/* Game Title at Bottom */}
            <div className="p-4 bg-white">
              <h3 className="text-gray-800 font-semibold text-base text-center">
                {game.name}
              </h3>
            </div>
          </div>
        )
      }
      
      function MainContent({ onGameClick }) {
        return (
          <main className="flex flex-col items-center pt-24 px-2 pb-12 min-h-[70vh]">
            <h1 className="text-2xl md:text-3xl font-bold text-gray-800 mb-10 text-center">
              Choose the game you want to Top-Up...
            </h1>
            <div className="w-full flex justify-center">
              <div className="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8 w-full max-w-5xl">
                {GAMES.map((game) => (
                  <GameCard key={game.id} game={game} onClick={onGameClick} />
                ))}
              </div>
            </div>
          </main>
        );
      }
      
      function CombinedGamePage({ game, onBack }) {
        // Apply the background to the outer wrapper for both game detail and shop sections
        // Use backgroundImage from the selected game
        const bgUrl = game.backgroundImage;
        // Combined overlay opacity and color
        const overlay = 'rgba(16,16,32,0.62)'; // Good legibility on any beautiful background

        const [selectedPackage, setSelectedPackage] = React.useState(null);
        const [uid, setUid] = React.useState('');
        const [server, setServer] = React.useState(game.servers ? game.servers[0] : '');
        
        const getFullGameData = () => {
          return GAME_DATA.find(g => g.id === game.id) || game;
        };
        
        const fullGame = getFullGameData();
        
        const handleBuyClick = () => {
          // Smooth scroll to shop section
          document.getElementById('shop-section').scrollIntoView({ behavior: 'smooth' });
        };
        
        const handleProceedToPayment = () => {
          if (!selectedPackage) {
            alert('Please select a package first!');
            return;
          }
          if (!uid) {
            alert('Please enter your UID!');
            return;
          }
          alert(`Processing payment for ${selectedPackage.special || selectedPackage.amount + ' Crystals'} - ${selectedPackage.price}\nUID: ${uid}\nServer: ${server}`);
        };
        
        return (
          <div 
            className="min-h-screen w-full relative flex flex-col"
            style={{
              backgroundImage: `url(${bgUrl})`,
              backgroundSize: 'cover',
              backgroundPosition: 'center',
              backgroundAttachment: 'fixed',
            }}
          >
            {/* Persistent overlay for text legibility */}
            <div 
              className="absolute inset-0 z-0" 
              style={{ background: overlay, pointerEvents: 'none' }}
              aria-hidden="true"
            />

            <div className="relative z-10 flex-1 flex flex-col min-h-screen">
              {/* TOP SECTION - GAME DETAIL */}
              <section 
              className="min-h-screen relative overflow-hidden"
              style={{ pointerEvents: 'auto' }}
            >
              {/* The background image and overlay for both sections is now applied on the parent container */}
              
              {/* Content Container */}
              <div className="relative z-10 min-h-screen pt-24 px-4 pb-12">
                <div className="max-w-7xl mx-auto">
                  {/* Back Button */}
                  <button
                    onClick={onBack}
                    className="back-button flex items-center gap-2 text-white bg-black bg-opacity-40 hover:bg-opacity-60 px-6 py-3 rounded-full mb-8 transition-all backdrop-blur-sm"
                  >
                    <svg className="w-5 h-5" fill="none" stroke="currentColor" strokeWidth={2} viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" d="M15 19l-7-7 7-7" />
                    </svg>
                    <span className="font-semibold">Back to Games</span>
                  </button>
                  
                  {/* Main Content - Character and Text Side by Side */}
                  <div className="flex flex-col lg:flex-row items-center justify-between gap-12 min-h-[70vh]">

                    {/* Right Side - Text Content */}
                    <div className="flex-1 flex flex-col gap-8 max-w-xl">
                      <h1 className="text-5xl md:text-6xl lg:text-7xl font-bold text-white drop-shadow-lg">
                        {game.name}
                      </h1>
                      <p className="text-lg md:text-xl lg:text-2xl text-white leading-relaxed drop-shadow-md">
                        {game.description}
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </section>
            
            {/* BOTTOM SECTION - CURRENCY SHOP */}
            <section 
              id="shop-section"
              className="min-h-screen relative overflow-hidden pb-32"
              style={{ pointerEvents: 'auto' }}
            >
              <div className="relative z-10 pt-16 px-4">
                <div className="max-w-7xl mx-auto">
                  {/* Character Showcase Section */}
                  <div className="bg-white bg-opacity-95 rounded-3xl shadow-2xl p-8 mb-8">
                    <div className="flex flex-col lg:flex-row items-center gap-8">
                      {/* Character Image */}
                      <div className="flex-shrink-0">
                        <img
                          src={fullGame.characterImage}
                          alt={fullGame.characterName}
                          className="w-48 h-48 object-cover rounded-2xl shadow-lg"
                        />
                      </div>
                      
                      {/* Character Info */}
                      <div className="flex-1 text-center lg:text-left">
                        <div className="flex items-center justify-center lg:justify-start gap-3 mb-3">
                          <h2 className="text-3xl font-bold text-gray-800">{fullGame.characterName}</h2>
                          <span className="bg-purple-600 text-white text-xs font-bold px-3 py-1 rounded-full">NEW</span>
                        </div>
                        
                        {/* Star Rating */}
                        <div className="flex justify-center lg:justify-start gap-1 mb-3">
                          {[...Array(fullGame.characterRarity || 5)].map((_, i) => (
                            <svg key={i} className="w-6 h-6 fill-yellow-400" viewBox="0 0 24 24">
                              <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" />
                            </svg>
                          ))}
                        </div>
                        
                        <p className="text-gray-600 text-lg">{fullGame.characterDescription}</p>
                      </div>
                    </div>
                  </div>
                  
                  {/* Currency Packages Grid */}
                  <div className="mb-8">
                    <h3 className="text-2xl font-bold text-white mb-6 text-center">Select a Package</h3>
                    <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                      {fullGame.packages && fullGame.packages.map((pkg) => (
                        <div
                          key={pkg.id}
                          onClick={() => setSelectedPackage(pkg)}
                          className={`bg-white rounded-2xl shadow-lg p-6 cursor-pointer transition-all duration-300 transform hover:scale-105 hover:shadow-2xl ${
                            selectedPackage?.id === pkg.id ? 'ring-4 ring-pink-500 scale-105' : ''
                          }`}
                        >
                          {/* Crystal Icon */}
                          <div className="flex justify-center mb-4">
                            <div className="w-16 h-16 bg-gradient-to-br from-blue-400 to-blue-600 rounded-full flex items-center justify-center shadow-lg">
                              <svg className="w-10 h-10 text-white" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 2l3.5 7h7.5l-6 5 2.5 8-7-5-7 5 2.5-8-6-5h7.5z" />
                              </svg>
                            </div>
                          </div>
                          
                          {/* Package Details */}
                          <div className="text-center">
                            {pkg.special ? (
                              <>
                                <h4 className="text-xl font-bold text-gray-800 mb-2">{pkg.special}</h4>
                                <p className="text-sm text-gray-600 mb-3">Special Offer</p>
                              </>
                            ) : (
                              <>
                                <h4 className="text-xl font-bold text-gray-800 mb-2">{pkg.amount}</h4>
                                <p className="text-sm text-gray-600 mb-3">Crystals</p>
                              </>
                            )}
                            {pkg.bonus && (
                              <span className="inline-block bg-orange-500 text-white text-xs font-bold px-2 py-1 rounded mb-2">
                                {pkg.bonus}
                              </span>
                            )}
                            <p className="text-2xl font-bold text-purple-600">{pkg.price}</p>
                          </div>
                        </div>
                      ))}
                    </div>
                  </div>
                </div>
              </div>
              
              {/* Fixed Bottom Checkout Section */}
              <div className="fixed bottom-0 left-0 right-0 bg-gradient-to-r from-pink-400 via-purple-400 to-pink-500 shadow-2xl z-50">
                <div className="max-w-7xl mx-auto px-4 py-6">
                  <div className="flex flex-col lg:flex-row items-center gap-4">
                    {/* UID Input */}
                    <div className="flex-1 w-full lg:w-auto">
                      <input
                        type="text"
                        placeholder="Your UID (e.g., 501XXXXXX)"
                        value={uid}
                        onChange={(e) => setUid(e.target.value)}
                        className="w-full px-4 py-3 rounded-lg border-2 border-white focus:outline-none focus:border-purple-600 text-white-800 font-medium"
                      />
                    </div>
                    
                    {/* Server Dropdown */}
                    <div className="flex-1 w-full lg:w-auto">
                      <select
                        value={server}
                        onChange={(e) => setServer(e.target.value)}
                        className="w-full px-4 py-3 rounded-lg border-2 border-white focus:outline-none focus:border-purple-600 text-gray-800 font-medium bg-white"
                      >
                        {fullGame.servers && fullGame.servers.map((srv) => (
                          <option key={srv} value={srv}>{srv}</option>
                        ))}
                      </select>
                    </div>
                    
                    {/* Proceed Button */}
                    <div className="w-full lg:w-auto">
                      <button
                        onClick={handleProceedToPayment}
                        className="w-full lg:w-auto bg-gradient-to-r from-pink-600 to-purple-600 text-white font-bold px-8 py-3 rounded-lg hover:from-pink-700 hover:to-purple-700 transition-all transform hover:scale-105 shadow-lg"
                      >
                        Proceed to Payment
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </section>
            </div>
          </div>
        );
      }

      

      function AccountPage({ onBack, user, onLogin, onRegister, onLogout }) {
        const [activeTab, setActiveTab] = React.useState('signin'); // 'signin' or 'register'
        const [showPassword, setShowPassword] = React.useState(false);
        const [showConfirmPassword, setShowConfirmPassword] = React.useState(false);
        const [successMessage, setSuccessMessage] = React.useState('');
        
        // Sign In form state
        const [signInData, setSignInData] = React.useState({
          email: '',
          password: '',
          rememberMe: false
        });
        
        // Register form state
        const [registerData, setRegisterData] = React.useState({
          username: '',
          email: '',
          password: '',
          confirmPassword: '',
          acceptTerms: false
        });
        
        const handleSignIn = (e) => {
          e.preventDefault();
          if (!signInData.email || !signInData.password) {
            alert('Please fill in all fields');
            return;
          }
          const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
          if (!emailRegex.test(signInData.email)) {
            alert('Please enter a valid email address');
            return;
          }
          
          // Call parent login handler
          const success = onLogin(signInData.email, signInData.password);
          if (success) {
            setSuccessMessage('Sign in successful! Welcome back!');
            setTimeout(() => {
              setSuccessMessage('');
            }, 1500);
          } else {
            alert('Invalid email or password');
          }
        };
        
        const handleRegister = (e) => {
          e.preventDefault();
          if (!registerData.username || !registerData.email || !registerData.password || !registerData.confirmPassword) {
            alert('Please fill in all fields');
            return;
          }
          const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
          if (!emailRegex.test(registerData.email)) {
            alert('Please enter a valid email address');
            return;
          }
          if (registerData.password.length < 8) {
            alert('Password must be at least 8 characters long');
            return;
          }
          if (registerData.password !== registerData.confirmPassword) {
            alert('Passwords do not match');
            return;
          }
          if (!registerData.acceptTerms) {
            alert('Please accept the Terms & Conditions');
            return;
          }
          
          // Call parent register handler
          const success = onRegister(registerData.username, registerData.email, registerData.password);
          if (success) {
            setSuccessMessage('Registration successful! Signing you in...');
            setTimeout(() => {
              setSuccessMessage('');
            }, 1500);
          } else {
            alert('Email already registered. Please sign in.');
          }
        };
        
        // If user is logged in, show profile page instead
        if (user) {
          return (
            <div 
              className="min-h-screen relative flex flex-col"
              style={{
                background: 'linear-gradient(135deg, #9333EA 0%, #7C3AED 50%, #A855F7 100%)'
              }}
            >
              <div className="relative z-10 min-h-screen pt-24 px-4 pb-12 flex items-center justify-center">
                <div className="max-w-md w-full">
                  {/* Back Button */}
                  <button
                    onClick={onBack}
                    className="back-button flex items-center gap-2 text-white bg-black bg-opacity-40 hover:bg-opacity-60 px-6 py-3 rounded-full mb-8 transition-all backdrop-blur-sm"
                  >
                    <svg className="w-5 h-5" fill="none" stroke="currentColor" strokeWidth={2} viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" d="M15 19l-7-7 7-7" />
                    </svg>
                    <span className="font-semibold">Back to Home</span>
                  </button>
                  
                  {/* Logged In Profile Card */}
                  <div className="bg-white rounded-3xl shadow-2xl overflow-hidden">
                    <div className="bg-gradient-to-r from-pink-500 to-purple-600 p-8 text-white text-center">
                      <div className="w-24 h-24 bg-white rounded-full mx-auto mb-4 flex items-center justify-center">
                        <svg className="w-16 h-16 text-purple-600" fill="currentColor" viewBox="0 0 24 24">
                          <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                        </svg>
                      </div>
                      <h2 className="text-3xl font-bold mb-2">{user.username}</h2>
                      <p className="text-purple-100">{user.email}</p>
                    </div>
                    
                    <div className="p-8">
                      <div className="bg-green-50 border border-green-200 rounded-xl p-4 mb-6">
                        <p className="text-green-800 font-semibold text-center">
                          âœ“ You are logged in as: <span className="font-bold">{user.username}</span>
                        </p>
                      </div>
                      
                      <div className="space-y-4">
                        <button
                          onClick={onBack}
                          className="w-full bg-gradient-to-r from-purple-500 to-pink-500 text-white font-bold px-6 py-3 rounded-lg hover:from-purple-600 hover:to-pink-600 transition-all transform hover:scale-105 shadow-lg"
                        >
                          Continue Shopping
                        </button>
                        
                        <button
                          onClick={onLogout}
                          className="w-full bg-red-500 text-white font-bold px-6 py-3 rounded-lg hover:bg-red-600 transition-all transform hover:scale-105 shadow-lg"
                        >
                          Logout
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          );
        }
        
        return (
          <div 
            className="min-h-screen relative flex flex-col"
            style={{
              background: 'linear-gradient(135deg, #9333EA 0%, #7C3AED 50%, #A855F7 100%)'
            }}
          >
            <div className="relative z-10 min-h-screen pt-24 px-4 pb-12 flex items-center justify-center">
              <div className="max-w-md w-full">
                {/* Back Button */}
                <button
                  onClick={onBack}
                  className="back-button flex items-center gap-2 text-white bg-black bg-opacity-40 hover:bg-opacity-60 px-6 py-3 rounded-full mb-8 transition-all backdrop-blur-sm"
                >
                  <svg className="w-5 h-5" fill="none" stroke="currentColor" strokeWidth={2} viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" d="M15 19l-7-7 7-7" />
                  </svg>
                  <span className="font-semibold">Back to Home</span>
                </button>
                
                {/* Success Message */}
                {successMessage && (
                  <div className="bg-green-500 text-white px-6 py-4 rounded-2xl mb-6 text-center font-semibold shadow-lg">
                    {successMessage}
                  </div>
                )}
                
                {/* Auth Card */}
                <div className="bg-white rounded-3xl shadow-2xl overflow-hidden">
                  {/* Tab Switcher */}
                  <div className="flex">
                    <button
                      onClick={() => setActiveTab('signin')}
                      className={`flex-1 py-4 font-bold text-lg transition-all ${
                        activeTab === 'signin'
                          ? 'bg-gradient-to-r from-pink-500 to-purple-600 text-white'
                          : 'bg-gray-100 text-gray-600 hover:bg-gray-200'
                      }`}
                    >
                      Sign In
                    </button>
                    <button
                      onClick={() => setActiveTab('register')}
                      className={`flex-1 py-4 font-bold text-lg transition-all ${
                        activeTab === 'register'
                          ? 'bg-gradient-to-r from-pink-500 to-purple-600 text-white'
                          : 'bg-gray-100 text-gray-600 hover:bg-gray-200'
                      }`}
                    >
                      Register
                    </button>
                  </div>
                  
                  {/* Form Content */}
                  <div className="p-8">
                    {activeTab === 'signin' ? (
                      /* SIGN IN FORM */
                      <form onSubmit={handleSignIn} className="space-y-6">
                        <div>
                          <label className="block text-gray-700 font-semibold mb-2">Email</label>
                          <input
                            type="email"
                            placeholder="Enter your email"
                            value={signInData.email}
                            onChange={(e) => setSignInData({...signInData, email: e.target.value})}
                            className="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-purple-500 transition-all"
                          />
                        </div>
                        
                        <div>
                          <label className="block text-gray-700 font-semibold mb-2">Password</label>
                          <div className="relative">
                            <input
                              type={showPassword ? 'text' : 'password'}
                              placeholder="Enter your password"
                              value={signInData.password}
                              onChange={(e) => setSignInData({...signInData, password: e.target.value})}
                              className="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-purple-500 transition-all"
                            />
                            <button
                              type="button"
                              onClick={() => setShowPassword(!showPassword)}
                              className="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700"
                            >
                              {showPassword ? (
                                <svg className="w-6 h-6" fill="none" stroke="currentColor" strokeWidth={2} viewBox="0 0 24 24">
                                  <path strokeLinecap="round" strokeLinejoin="round" d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21" />
                                </svg>
                              ) : (
                                <svg className="w-6 h-6" fill="none" stroke="currentColor" strokeWidth={2} viewBox="0 0 24 24">
                                  <path strokeLinecap="round" strokeLinejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                                  <path strokeLinecap="round" strokeLinejoin="round" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                                </svg>
                              )}
                            </button>
                          </div>
                        </div>
                        
                        <div className="flex items-center justify-between">
                          <label className="flex items-center cursor-pointer">
                            <input
                              type="checkbox"
                              checked={signInData.rememberMe}
                              onChange={(e) => setSignInData({...signInData, rememberMe: e.target.checked})}
                              className="w-5 h-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500"
                            />
                            <span className="ml-2 text-gray-700">Remember me</span>
                          </label>
                          <a href="#" className="text-purple-600 hover:text-purple-800 font-semibold">Forgot Password?</a>
                        </div>
                        
                        <button
                          type="submit"
                          className="primogem-button w-full"
                        >
                          Sign In
                        </button>
                        
                        <p className="text-center text-gray-600">
                          Don't have an account?{' '}
                          <button
                            type="button"
                            onClick={() => setActiveTab('register')}
                            className="text-purple-600 hover:text-purple-800 font-bold"
                          >
                            Register
                          </button>
                        </p>
                      </form>
                    ) : (
                      /* REGISTER FORM */
                      <form onSubmit={handleRegister} className="space-y-6">
                        <div>
                          <label className="block text-gray-700 font-semibold mb-2">Username</label>
                          <input
                            type="text"
                            placeholder="Choose a username"
                            value={registerData.username}
                            onChange={(e) => setRegisterData({...registerData, username: e.target.value})}
                            className="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-purple-500 transition-all"
                          />
                        </div>
                        
                        <div>
                          <label className="block text-gray-700 font-semibold mb-2">Email</label>
                          <input
                            type="email"
                            placeholder="Enter your email"
                            value={registerData.email}
                            onChange={(e) => setRegisterData({...registerData, email: e.target.value})}
                            className="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-purple-500 transition-all"
                          />
                        </div>
                        
                        <div>
                          <label className="block text-gray-700 font-semibold mb-2">Password</label>
                          <div className="relative">
                            <input
                              type={showPassword ? 'text' : 'password'}
                              placeholder="Create a password (min 8 characters)"
                              value={registerData.password}
                              onChange={(e) => setRegisterData({...registerData, password: e.target.value})}
                              className="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-purple-500 transition-all"
                            />
                            <button
                              type="button"
                              onClick={() => setShowPassword(!showPassword)}
                              className="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700"
                            >
                              {showPassword ? (
                                <svg className="w-6 h-6" fill="none" stroke="currentColor" strokeWidth={2} viewBox="0 0 24 24">
                                  <path strokeLinecap="round" strokeLinejoin="round" d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21" />
                                </svg>
                              ) : (
                                <svg className="w-6 h-6" fill="none" stroke="currentColor" strokeWidth={2} viewBox="0 0 24 24">
                                  <path strokeLinecap="round" strokeLinejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                                  <path strokeLinecap="round" strokeLinejoin="round" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                                </svg>
                              )}
                            </button>
                          </div>
                          {registerData.password && (
                            <div className="mt-2">
                              <div className="flex gap-1 mb-1">
                                <div className={`h-2 flex-1 rounded ${
                                  registerData.password.length >= 8 ? 'bg-green-500' : 'bg-gray-300'
                                }`}></div>
                                <div className={`h-2 flex-1 rounded ${
                                  registerData.password.length >= 10 && /[A-Z]/.test(registerData.password) ? 'bg-green-500' : 'bg-gray-300'
                                }`}></div>
                                <div className={`h-2 flex-1 rounded ${
                                  registerData.password.length >= 12 && /[A-Z]/.test(registerData.password) && /[0-9]/.test(registerData.password) ? 'bg-green-500' : 'bg-gray-300'
                                }`}></div>
                              </div>
                              <p className="text-xs text-gray-600">Password strength: {registerData.password.length < 8 ? 'Weak' : registerData.password.length < 10 ? 'Fair' : 'Strong'}</p>
                            </div>
                          )}
                        </div>
                        
                        <div>
                          <label className="block text-gray-700 font-semibold mb-2">Confirm Password</label>
                          <div className="relative">
                            <input
                              type={showConfirmPassword ? 'text' : 'password'}
                              placeholder="Confirm your password"
                              value={registerData.confirmPassword}
                              onChange={(e) => setRegisterData({...registerData, confirmPassword: e.target.value})}
                              className="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-purple-500 transition-all"
                            />
                            <button
                              type="button"
                              onClick={() => setShowConfirmPassword(!showConfirmPassword)}
                              className="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700"
                            >
                              {showConfirmPassword ? (
                                <svg className="w-6 h-6" fill="none" stroke="currentColor" strokeWidth={2} viewBox="0 0 24 24">
                                  <path strokeLinecap="round" strokeLinejoin="round" d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21" />
                                </svg>
                              ) : (
                                <svg className="w-6 h-6" fill="none" stroke="currentColor" strokeWidth={2} viewBox="0 0 24 24">
                                  <path strokeLinecap="round" strokeLinejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                                  <path strokeLinecap="round" strokeLinejoin="round" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                                </svg>
                              )}
                            </button>
                          </div>
                        </div>
                        
                        <div>
                          <label className="flex items-start cursor-pointer">
                            <input
                              type="checkbox"
                              checked={registerData.acceptTerms}
                              onChange={(e) => setRegisterData({...registerData, acceptTerms: e.target.checked})}
                              className="w-5 h-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500 mt-1"
                            />
                            <span className="ml-2 text-gray-700">
                              I accept the{' '}
                              <a href="#" target="_blank" className="text-purple-600 hover:text-purple-800 font-semibold">
                                Terms &amp; Conditions
                              </a>
                            </span>
                          </label>
                        </div>
                        
                        <button
                          type="submit"
                          className="primogem-button w-full"
                        >
                          Register
                        </button>
                        
                        <p className="text-center text-gray-600">
                          Already have an account?{' '}
                          <button
                            type="button"
                            onClick={() => setActiveTab('signin')}
                            className="text-purple-600 hover:text-purple-800 font-bold"
                          >
                            Sign In
                          </button>
                        </p>
                      </form>
                    )}
                  </div>
                </div>
              </div>
            </div>
          </div>
        );
      }

      function App() {
        const [activeNav, setActiveNav] = React.useState('home');
        const [selectedGame, setSelectedGame] = React.useState(null);
        const [currentPage, setCurrentPage] = React.useState('home'); // 'home', 'combined', 'account'
        
        // Authentication state
        const [user, setUser] = React.useState(null); // { username, email }
        const [registeredUsers, setRegisteredUsers] = React.useState([]); // Store registered users
        
        // On game card click, navigate to combined game page
        const handleGameClick = (game) => {
          setSelectedGame(game);
          setCurrentPage('combined');
        };
        
        // From combined page, go back to home
        const handleBackToHome = () => {
          setSelectedGame(null);
          setCurrentPage('home');
          setActiveNav('home');
        };
        
        // Handle navbar navigation
        const handleNavChange = (navId) => {
          setActiveNav(navId);
          if (navId === 'home') {
            setSelectedGame(null);
            setCurrentPage('home');
          } else if (navId === 'account') {
            setSelectedGame(null);
            setCurrentPage('account');
          }
        };
        
        // Handle back from account page
        const handleBackFromAccount = () => {
          setCurrentPage('home');
          setActiveNav('home');
        };
        
        // Handle user login
        const handleLogin = (email, password) => {
          const foundUser = registeredUsers.find(
            u => u.email === email && u.password === password
          );
          if (foundUser) {
            setUser({ username: foundUser.username, email: foundUser.email });
            return true;
          }
          return false;
        };
        
        // Handle user registration
        const handleRegister = (username, email, password) => {
          const existingUser = registeredUsers.find(u => u.email === email);
          if (existingUser) {
            return false;
          }
          const newUser = { username, email, password };
          setRegisteredUsers([...registeredUsers, newUser]);
          setUser({ username, email });
          return true;
        };
        
        // Handle logout
        const handleLogout = () => {
          setUser(null);
          setCurrentPage('account');
          setActiveNav('account');
        };
        
        return (
          <div className="min-h-screen flex flex-col">
            <Navbar activeNav={activeNav} setActiveNav={handleNavChange} user={user} onLogout={handleLogout} />
            <div className="flex-1">
              {currentPage === 'home' && (
                <MainContent onGameClick={handleGameClick} user={user} />
              )}
              {currentPage === 'combined' && selectedGame && (
                <CombinedGamePage 
                  game={selectedGame} 
                  onBack={handleBackToHome}
                  user={user}
                />
              )}
              {currentPage === 'account' && (
                <AccountPage 
                  onBack={handleBackFromAccount} 
                  user={user}
                  onLogin={handleLogin}
                  onRegister={handleRegister}
                  onLogout={handleLogout}
                />
              )}
            </div>
          </div>
        );
      }


      ReactDOM.createRoot(document.getElementById('root')).render(<App />);
    </script>
  </body>
</html>
